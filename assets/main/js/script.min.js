import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis({duration:1,easing:e=>1-Math.pow(1-e,4),smooth:!0,smoothTouch:!1});function handlePageVisibilityAndFavicon(){let e=document.title,r,a=!1,t=document.getElementById("dynamic-title").textContent;function n(e){let t=document.querySelector("link[rel~='icon']");t||((t=document.createElement("link")).rel="icon",t.type="image/svg+xml",document.head.appendChild(t)),t.href=e+"?v="+(new Date).getTime()}document.addEventListener("visibilitychange",function(){if(document.hidden){if(document.title=t,!a){a=!0;var o=window.location.origin;let e=[o+"/wp-content/themes/alpha/assets/images/use/favicon-gold.svg",o+"/wp-content/themes/alpha/assets/images/use/favicon-black.svg"],t=0;r=setInterval(()=>{n(e[t]),t=(t+1)%e.length},500)}}else document.title=e,clearInterval(r),a=!1,n(window.location.origin+"/wp-content/themes/alpha/assets/images/use/favicon-black.svg")})}function customDropdown(){let i=$(".dropdown-custom");i.each(function(){let t=$(this),o=t.find(".dropdown-custom__btn"),r=t.find(".dropdown-custom__menu");var e=t.find(".dropdown-custom__item");let a=t.find(".dropdown-custom__text");function n(o){$(".dropdown-custom__btn").removeClass("active"),i.each(function(){var e=$(this).find(".dropdown-custom__menu"),t=$(this).find(".dropdown-custom__btn");o&&$(this).is(o)||(e.removeClass("dropdown--active"),t.removeClass("--active"))})}o.on("click",function(e){e.stopPropagation(),n(t),r.toggleClass("dropdown--active"),o.toggleClass("--active")}),$(document).on("click",function(){n()}),e.on("click",function(e){e.stopPropagation();e=$(this);let t=a.text();var o=a.find("img").attr("src"),r=e.find("img");a.text(e.text()),r.length?(a.html(e.html()),e.hasClass("language__item")&&(t=`<span>${t}</span>`),e.html(`${o?`<img src="${o}" />`:""} `+t)):e.hasClass("language__item")&&e.text(t),n()})})}function header(){let e=$(".header-hambuger"),t=$(".header-sub-container"),o=$(".header-sub"),r=$(".header-icon-close"),a=$("body");var n=$(".header-sub-empty");e.on("click",function(){e.addClass("active"),o.addClass("active"),a.addClass("overflow-hidden"),setTimeout(function(){t.addClass("active")},100)}),r.on("click",function(){t.removeClass("active"),e.removeClass("active"),setTimeout(function(){r.removeClass("active"),o.removeClass("active"),a.removeClass("overflow-hidden")},300)}),n.on("click",function(){t.removeClass("active"),e.removeClass("active"),setTimeout(function(){r.removeClass("active"),o.removeClass("active"),a.removeClass("overflow-hidden")},300)}),991<=$(window).width()&&(r.hover(function(){e.addClass("animation")},function(){e.removeClass("animation")}),e.hover(function(){e.addClass("hovered")},function(){e.removeClass("hovered")}))}function effectText(){gsap.registerPlugin(SplitText,ScrollTrigger),document.fonts.ready.then(()=>{document.querySelectorAll(".effect-heading-mask-line").forEach(t=>{gsap.set(t,{opacity:1});let o;SplitText.create(t,{type:"lines",linesClass:"line",mask:"lines",onSplit:e=>(t.classList.contains("scroll-trigger")?o=gsap.from(e.lines,{duration:.8,yPercent:100,opacity:0,stagger:.2,ease:"expo.out",scrollTrigger:{trigger:t,start:"top 60%",end:"bottom 60%",toggleActions:"play none none none"}}):(o=gsap.from(e.lines,{duration:.4,yPercent:100,opacity:0,stagger:.1,ease:"expo.out"}),gsap.to(o,{timeScale:.2,onStart:()=>o.play(0)})),o)})}),gsap.utils.toArray(".effect-fade-content").forEach(e=>{var t=parseFloat(e.dataset.delay)||0;gsap.fromTo(e,{"will-change":"opacity, transform",opacity:0,y:20},{scrollTrigger:{trigger:e,start:"top 75%",end:"bottom 75%"},opacity:1,y:0,duration:.3,ease:"sine.out",delay:t})}),gsap.utils.toArray(".effect-fade-content-auto").forEach((e,t)=>{gsap.fromTo(e,{"will-change":"opacity, transform",opacity:0,y:20},{opacity:1,y:0,duration:.3,ease:"sine.out",delay:.5})}),document.querySelectorAll(".effect-heading-blur").forEach(e=>{var t=SplitText.create(e,{type:"words, chars",charsClass:"split-char",wordsClass:"split-word"});gsap.fromTo(t.chars,{filter:"blur(10px) ",y:10,willChange:"filter, transform",opacity:0},{ease:"none",filter:"blur(0px)",y:0,stagger:.05,opacity:1,scrollTrigger:{trigger:e.classList.contains("footer-effect-text")?".footer-ovl":e,start:"top 90%"}})})})}function introChess(){var e,t,o,r;document.querySelectorAll(".section-intro").length<1||(gsap.registerPlugin(ScrollTrigger,SplitText),e=document.querySelector(".section-intro-content"),t=document.querySelector(".section-intro-content .tag"),o=document.querySelector(".section-intro-content .h2-heading"),o=new SplitText(o,{type:"lines",mask:"lines",linesClass:"line"}),window.innerWidth,(r=gsap.timeline({scrollTrigger:{trigger:".section-intro-video",start:"top top",end:"bottom center",toggleActions:"play none none reverse"}})).fromTo(e,{opacity:0},{opacity:1,duration:.4}),r.fromTo(t,{opacity:0,y:20},{opacity:1,y:0,duration:.3,ease:"expo.out"}),r.fromTo(o.lines,{opacity:0,yPercent:100},{opacity:1,yPercent:0,duration:.3,stagger:.05,ease:"expo.out"},"-=0.1"),gsap.to(".section-intro",{scrollTrigger:{trigger:".section-intro",start:"top top",end:"bottom top",pin:!0,pinSpacing:!1}}))}function whyChooseUs(){$(".why-choose-us").length<1||(0<$(".why-choose-us.page-expertise").length&&ScrollTrigger.create({trigger:".why-choose-us.page-expertise",start:"top 70%",end:"bottom top",onEnter:()=>{document.querySelector(".why-choose-us.page-expertise").classList.add("theme-light"),document.querySelector(".header-menu-container").classList.add("theme-light"),document.querySelector("main").classList.add("theme-light")},onLeaveBack:()=>{document.querySelector(".why-choose-us.page-expertise").classList.remove("theme-light"),document.querySelector(".header-menu-container").classList.remove("theme-light"),document.querySelector("main").classList.remove("theme-light")}}),$(window).width()<1100)||(document.querySelectorAll(".why-choose-us .main-section").forEach(a=>{let n=a.querySelector(".list-wrapper"),i=0,s=!1;a.addEventListener("mouseenter",()=>{s=!0}),a.addEventListener("mouseleave",()=>{s=!1,n.style.transform="translateX(0px)"}),a.addEventListener("mousemove",e=>{var t,o,r;e=e,s&&(t=a.offsetWidth,o=n.scrollWidth-t+80,r=a.getBoundingClientRect(),e=e.clientX-r.left,i=t-200<=e?-o:Math.min(0,e/(t-200)*o*-1),i=Math.max(-o,Math.min(0,i)),n.style.transform=`translateX(${i}px)`)})}),document.querySelectorAll(".why-choose-us .item-child.video").forEach(e=>{let t=e.querySelector("video");e.addEventListener("mouseenter",()=>{t.loop=!0,t.play()}),e.addEventListener("mouseleave",()=>{t.pause(),t.currentTime=0})}))}function coreValue(){if(!($(".core-value").length<1)){var t=window.innerWidth;let e=t-32;991<t?e=t-160:767<t&&(e=t-80);var o=(t-e)/2/t*100,r=document.querySelector(".core-value .core-value__top").offsetHeight,t=(r-(991<t?r-100:r))/2/r*100;gsap.fromTo(".core-value .image",{clipPath:`inset(${t}% ${o}% ${t}% ${o}%)`},{scrollTrigger:{trigger:".core-value .core-value__top",start:"top 70%",end:"bottom 70%",scrub:1},clipPath:"inset(0% 0% 0% 0%)",duration:.4,ease:"power2.out"}),gsap.fromTo(".core-value .image img",{scale:1},{scrollTrigger:{trigger:".core-value .core-value__top",start:"top 40%",end:"bottom top",scrub:1},scale:1.5,duration:.4,ease:"power2.out",transformOrigin:()=>document.querySelector(".core-value .image").dataset.transformOrigin}),$("#core-value-text").length<1||(r=window.innerWidth<991?"0":"-300",t=document.querySelector(".core-value").offsetHeight,(o=gsap.timeline({scrollTrigger:{trigger:"#core-value-text",start:"center center",end:window.innerWidth<991?`+=${.5*t+114}px`:"+=200%",scrub:!0,pin:!0,toggleClass:{targets:".core-value",className:"active"}}})).to("#core-value-text",{scale:1.7,duration:.6,ease:"power2.out"}),o.to("#core-value-text",{xPercent:r,duration:.5,ease:"none"}))}}function magicCursor(){if(document.querySelector(".magic-cursor")){var r=document.querySelector(".magic-cursor");gsap.set(r,{xPercent:-50,yPercent:-50});let t,o;window.addEventListener("mousemove",e=>{t=e.clientX,o=e.clientY,gsap.to(r,{x:t,y:o,duration:.1})});var a=document.querySelector(".magic-cursor .cursor"),n=document.querySelector(".magic-cursor .cursor .icon");document.querySelector(".magic-cursor .cursor .text-content");document.querySelectorAll(".project-item, .our-team-item, .project-banner.animate").forEach(e=>{e.addEventListener("mouseenter",()=>{a.classList.add("show")}),e.addEventListener("mouseleave",()=>{a.classList.remove("show")})}),document.querySelectorAll("[data-cursor='arrow']").forEach(t=>{t.addEventListener("mouseenter",()=>{a.classList.add("show","arrow");var e=t.classList.contains("swiper-button-prev")?180:0;gsap.to(n,{rotate:e,yPercent:-50,xPercent:-50,duration:.3,ease:"power2.out"})}),t.addEventListener("mouseleave",()=>{a.classList.remove("show","arrow"),gsap.to(n,{rotate:0,yPercent:-50,xPercent:-50,duration:.3,ease:"power2.out"})})}),document.querySelectorAll(".client-wrapper").forEach(e=>{e.addEventListener("mouseenter",()=>{a.classList.add("show")}),e.addEventListener("mouseleave",()=>{a.classList.remove("show")})}),document.querySelectorAll(".list-wrapper").forEach(e=>{e.addEventListener("mouseenter",()=>{a.classList.add("show")}),e.addEventListener("mouseleave",()=>{a.classList.remove("show")})})}}function magicCursorV2(){if(document.querySelector(".magic-cursor-chess")){var r=document.querySelector(".magic-cursor-chess");gsap.set(r,{xPercent:-50,yPercent:-50});let t,o;window.addEventListener("mousemove",e=>{t=e.clientX,o=e.clientY,gsap.to(r,{x:t,y:o,duration:.1})});var a=document.querySelector(".magic-cursor-chess .cursor");document.querySelectorAll(".expertise-item .item-image").forEach(e=>{e.addEventListener("mouseenter",()=>{a.classList.add("show"),e.classList.add("hovered")}),e.addEventListener("mouseleave",()=>{a.classList.remove("show"),e.classList.remove("hovered")})})}}function pinSectionBanner(){var e=document.querySelector(".group-intro-banner");let t=document.querySelector(".section-banner-title"),o=!1;var r=window.innerWidth<991?"+="+.6*window.innerHeight:"+="+window.innerHeight;e&&t&&gsap.to(e,{scrollTrigger:{trigger:e,pin:!0,pinSpacing:!1,start:"top top",end:r,scrub:!0,onUpdate:e=>{1!==e.progress||o?e.progress<1&&o&&(gsap.to(t,{opacity:1,duration:.3,delay:.65,ease:"expo.out"}),o=!1):(gsap.to(t,{opacity:0,duration:.3,ease:"expo.out"}),o=!0)}}})}function cookieModal(){let t=document.querySelector(".modal-cookies");var e,o;t&&(e=t.querySelector("button[data-button='ACCEPT']"),o=t.querySelector("button[data-button='REJECT']"),e)&&o&&((()=>{var e=localStorage.getItem("cookieConsent");if(e)try{var t=JSON.parse(e);return Date.now()<t.expires}catch(e){}})()?t.classList.remove("open"):t.classList.add("open"),e.addEventListener("click",function(){var e=Date.now()+2592e6;localStorage.setItem("cookieConsent",JSON.stringify({accepted:!0,expires:e})),t.classList.remove("open")}),o.addEventListener("click",function(){t.classList.remove("open")}))}function addThemeLightToHeader(){var e=document.querySelector("body.blog-page-detail"),t=document.querySelector(".header-menu-container");e&&t&&t.classList.add("theme-light")}function loading(){var e,t;$(".loading").length<1||(e=gsap.timeline({onComplete:()=>{$("body").removeClass("overflow-hidden")}}),t=$(".loading"),$("body").addClass("overflow-hidden"),(t.hasClass("out-home")?(gsap.delayedCall(1.4,effectTextBanner),e.to(t.find(".loading-logo"),{opacity:0,y:-60,ease:"power2.out"},.5).to(t.find(".loading-wrapper"),{clipPath:"inset(0 0 100% 0)",duration:1.5,ease:"power3.inOut"},.6)):(gsap.delayedCall(3.65,effectTextBanner),e.to(t.find(".loading-logo"),{opacity:0,y:-60,duration:.8,ease:"power2.out"},.5).to(t.find(".loading-text"),{opacity:1,y:0,duration:.5,ease:"power2.out"},1).to(t.find(".loading-text"),{opacity:0,y:-60,duration:.5,ease:"power2.out"},1.8).to(t.find(".loading-desc"),{opacity:1,y:0,duration:.5,ease:"power2.out"},2.3).to(t.find(".loading-wrapper"),{clipPath:"inset(0 0 100% 0)",duration:1.5,ease:"power3.inOut"},2.9))).to(t,{autoAlpha:0}))}function galleryZoom(){var e,t;gsap.registerPlugin(ScrollTrigger,Flip),null!=document.querySelector(".gallery")&&((e=document.querySelectorAll(".gallery .gallery-item")).forEach(e=>e.classList.add("flip")),t=Flip.getState([".gallery .gallery-item",".gallery .gallery-item .img"],{props:"borderRadius"}),e.forEach(e=>e.classList.remove("flip")),Flip.to(t,{scale:!0,simple:!0,scrollTrigger:{trigger:".gallery",start:"center center",end:"+=300%",scrub:!0,pin:!0,lazy:!1,anticipate:!0}}))}function circleProgressBar(){if(null!=document.querySelector("#progress-bar")){let r=document.querySelector(".progress-bar-fill"),a=2*Math.PI*45;r.style.strokeDasharray="0 "+a,window.onscroll=()=>{var{innerHeight:e,scrollY:t}=window,o=document.body.clientHeight,t=t/(o-e)*100,o=a*(t/100)+" "+a;r.style.strokeDasharray=o}}}function effectTextBanner(){document.querySelectorAll(".effect-heading-mask-line-banner").forEach(t=>{gsap.set(t,{opacity:0});let o;SplitText.create(t,{type:"lines",linesClass:"line",mask:"lines",onSplit:e=>(o=gsap.fromTo(e.lines,{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:.4,stagger:.1,ease:"expo.out"}),gsap.to(o,{timeScale:.2,onStart:()=>o.play(0)}),gsap.to(t,{opacity:1,duration:0,delay:.1}),o)})}),gsap.utils.toArray(".effect-fade-content-banner").forEach(e=>{var t=e.dataset.delay?parseFloat(e.dataset.delay):0;gsap.fromTo(e,{"will-change":"opacity, transform",opacity:0,y:20},{opacity:1,y:0,duration:.3,ease:"sine.out",delay:.5+t})})}function stickyFilter(){$(window).on("scroll",function(){var e;$(".project-filter").length<1||((e=$(".project-filter")).offset().top-$(window).scrollTop()<=84?e.addClass("sticky"):e.removeClass("sticky"))})}function hoverVideo(){$(".item-hover-video").length<1||document.querySelectorAll(".item-hover-video").forEach(e=>{let t=e.querySelector("video");e.addEventListener("mouseenter",()=>{t.loop=!0,t.play()}),e.addEventListener("mouseleave",()=>{t.pause(),setTimeout(()=>{t.currentTime=0,t.load()},500)})})}function hoverNumberCount(){document.querySelectorAll(".item-hover-number .item-number").forEach(e=>{let t=parseInt(e.dataset.target,10)||0,o=e.dataset.suffix||"",r={val:0};var a=e.closest(".item-hover-number");a.addEventListener("mouseenter",()=>{gsap.to(e,{opacity:1,y:"0%",duration:.6,ease:"power2.out"}),gsap.to(r,{val:t,duration:1,ease:"power2.out",onUpdate:()=>{e.textContent=Math.floor(r.val).toLocaleString()+o}})}),a.addEventListener("mouseleave",()=>{gsap.to(e,{opacity:0,y:"20%",duration:.6,ease:"power2.in"}),gsap.to(r,{val:0,duration:1,ease:"power2.in",onUpdate:()=>{e.textContent=Math.floor(r.val).toLocaleString()+o}})})})}function scrollToForm(){var e=document.querySelector("#button-contact");let t=document.querySelector("#section-contact");e&&e.addEventListener("click",e=>{e.preventDefault(),t&&(gsap.registerPlugin(ScrollToPlugin),e=t.offsetTop+t.offsetHeight-window.innerHeight,gsap.to(window,{duration:1,scrollTo:e,ease:"none"}))})}function parallaxIt(e,t,o){var r=t.getBoundingClientRect(),a=e.clientX-r.left;gsap.to(t,{duration:.3,x:(a/r.width-.5)*o,y:((e.clientY-r.top)/r.height-.5)*o,ease:"power2.out"})}function callParallax(e){var t=e.currentTarget,o=t.querySelector("img"),r=t.querySelector("span");parallaxIt(e,t,10),o&&parallaxIt(e,o,20),r&&parallaxIt(e,r,15)}function hoverIcon(){var e;window.innerWidth<992||(document.querySelector(".build-a-brand")||document.querySelector("section.project"))&&(e=document.querySelectorAll(".build-a-brand .tab-wrapper .item, .project-container .nav-link"),document.querySelectorAll(".btn-large"),e.forEach(t=>{t.addEventListener("mousemove",e=>{callParallax(e)}),t.addEventListener("mouseleave",()=>{var e=t.getBoundingClientRect(),e=(gsap.to(t,{duration:.3,width:e.width,height:e.height,x:0,y:0,ease:"power2.out"}),t.querySelector("img"));e&&gsap.to(e,{duration:.3,x:0,y:0,scale:1,ease:"power2.out"})}),t.addEventListener("mouseenter",()=>{var e=t.querySelector("img");e&&gsap.to(e,{duration:.3,scale:.9,ease:"power2.out"})})}))}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0),$(window).on("DOMContentLoaded",function(){loading()});let coreValueTimeline=null;function showCoreValue(){if(!($(".expertise-core-value").length<1)){coreValueTimeline&&(coreValueTimeline.kill(),ScrollTrigger.getById("core-value-trigger")?.kill());let n=document.querySelectorAll(".content-item-lg");var e=document.querySelector(".expertise-core-value .content-ovl");if(gsap.set(e,{autoAlpha:0}),0!==n.length){n[0].classList.add("active","text-effect-gradient-not-effect"),Array.from(n).slice(1).forEach(e=>{e.classList.remove("active","text-effect-gradient-not-effect")});let r=n.length,a=.2*(2*r-1);(coreValueTimeline=gsap.timeline({scrollTrigger:{id:"core-value-trigger",trigger:".expertise-core-value",start:"top top",end:"+=150%",scrub:!0,pin:!0,onUpdate:e=>{e=e.progress,e=Math.min(e*(1+a)/a,1);let o=0;var t,e=e*a;o=e<=.2?e/.2<.5?0:-1:(t=(e=e-.2)%.2/.2,(e=Math.floor(e/.2))<r-1?e%2==0?Math.floor(e/2)+1:(e=Math.floor(e/2)+1)===r-1||t<.5?e:-1:r-1),n.forEach((e,t)=>{t===o?e.classList.add("active","text-effect-gradient-not-effect"):e.classList.remove("active","text-effect-gradient-not-effect")})}}})).to({},{duration:a}).to(e,{autoAlpha:1,duration:.5,ease:"power2.out",onStart:()=>{var e=document.querySelector(".content-bg-ovl");e&&e.classList.add("show"),effectTextCoreValue()},onReverseComplete:()=>{var e=document.querySelector(".content-bg-ovl");e&&e.classList.remove("show")}}).to({},{duration:.5})}}}function effectTextCoreValue(){document.querySelectorAll(".effect-heading-mask-line-core").forEach(t=>{gsap.set(t,{opacity:0});let o;SplitText.create(t,{type:"lines",linesClass:"line",mask:"lines",onSplit:e=>(o=gsap.fromTo(e.lines,{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:.4,stagger:.1,ease:"expo.out"}),gsap.to(o,{timeScale:.2,onStart:()=>o.play(0)}),gsap.to(t,{opacity:1,duration:0,delay:.1}),o)})}),gsap.utils.toArray(".effect-fade-content-core").forEach(e=>{var t=e.dataset.delay?parseFloat(e.dataset.delay):0;gsap.fromTo(e,{"will-change":"opacity, transform",opacity:0,y:20},{opacity:1,y:0,duration:.3,ease:"sine.out",delay:.5+t})})}function contactForm(){if(!($(".contact-form").length<1)){let r=$("#contact-form"),o=r.find("input[name='name']"),a=r.find("input[name='email']"),n=r.find("input[name='phone']"),i=r.find("input[name='company']"),s=r.find(".dropdown-custom .dropdown-custom__text"),l=r.find("textarea[name='message']"),c=r.find("button[type='submit']");r.on("submit",function(e){e.preventDefault(),r.find("input, textarea").removeClass("error");let t=!0;o.val().trim()||(o.addClass("error"),t=!1),a.val().trim()||(a.addClass("error"),t=!1),n.val().trim()||(n.addClass("error"),t=!1),t&&$.ajax({type:"POST",url:ajaxUrl,data:{action:"submit_contact_form",name:o.val().trim(),email:a.val().trim(),phone:n.val().trim(),company:i.val().trim(),service:s.text().trim(),messageNote:l.val().trim()},beforeSend:function(){c.addClass("aloading")},success:function(e){r[0].reset(),0<r.find(".privacy").length&&(r.find(".privacy").hide(),r.find(".success-message").show(),setTimeout(function(){r.find(".privacy").show(),r.find(".success-message").hide()},5e3)),c.removeClass("aloading")},error:function(e,t,o){console.error("Lỗi khi gửi form:",o),r.append('<span class="contact-message body-sm-regular" style="color: #FF0000;">Có lỗi xảy ra, vui lòng thử lại sau.</span>')}})})}}function projectDetail(){$(".project-detail").length<1||$(".project-banner.animate").each(function(){var e,t,o,r=$(this).find(".banner-img")[0];r&&(e=r.querySelector("img"),t=r.querySelector("video"),e=e||t)&&(o=`inset(${o=(991<(t=window.innerWidth)?80:24)/(r.offsetHeight||1)*100}% ${t=(991<t?80:24)/t*100}% ${o}% ${t}%)`,gsap.fromTo(r,{clipPath:"inset(0% 0% 0% 0%)"},{scrollTrigger:{trigger:$(this),start:"top 80%",end:"top top",scrub:1},clipPath:o,ease:"power2.out"}),gsap.fromTo(e,{scale:1},{scrollTrigger:{trigger:$(this),start:"top 80%",end:"top top",scrub:1},scale:1.3,ease:"power2.out",transformOrigin:e.dataset.transformOrigin||"center center"}))})}function scrollInfiniteProject(n=0){if(!($(".project-detail").length<1)){$(".loading").length&&$(".loading").removeClass("d-none");let a=new Map,e=new IntersectionObserver((e,r)=>{e.forEach(e=>{var t=$(e.target),o=t.data("post-id"),t=t.data("next-post");o&&t?e.isIntersecting?(n++,a.set(e.target,window.location.href),(t=new URL(t,window.location.origin)).searchParams.set("scrollCount",n),$(".loading").length&&$(".loading").addClass("d-none"),window.history.pushState({postId:o,scrollCount:n},"",t.toString()),window.location.href=t.toString(),r.unobserve(e.target)):!e.isIntersecting&&a.has(e.target)&&(t=a.get(e.target),window.history.pushState({postId:o},"",t)):r.unobserve(e.target)})},{root:null,rootMargin:"0px",threshold:.9});$(".project-banner.animate").each(function(){e.observe(this)}),window.addEventListener("popstate",function(e){e.state&&e.state.scrollCount&&(n=e.state.scrollCount),$(".loading").length&&$(".loading").addClass("d-none"),window.location.href=window.location.href})}}function animateBannerProjectDetail(){$(".project-banner").length<1||(gsap.fromTo(".project-banner .banner-img",{clipPath:()=>{var e=window.innerWidth;let t=e-32;var o=(e-(t=991<e?e-160:767<e?e-80:e-32))/2/e*100,r=document.querySelector(".project-banner").offsetHeight,e=(r-(991<e?r-160:r))/2/r*100;return`inset(${e}% ${o}% ${e}% ${o}%)`}},{scrollTrigger:{trigger:".project-banner",start:"top top",end:"bottom 50%",scrub:1,pin:!0},clipPath:"inset(0% 0% 0% 0%)",duration:.4,ease:"power2.out"}),gsap.fromTo(".project-banner .banner-img img",{scale:1.4},{scrollTrigger:{trigger:".project-banner",start:"top top",end:"bottom 70%",scrub:1},scale:1,duration:.4,ease:"power2.out"}))}function spotlightNextProject(){if(!(window.innerWidth<991||$(".project-spotlight").length<1)){let t=document.getElementById("cursor-next-project"),o=(document.addEventListener("mousemove",e=>{t.style.left=e.clientX-10+"px",t.style.top=e.clientY-10+"px"}),document.querySelector(".project-spotlight"));function a(e,t){var o=e.getBoundingClientRect(),r=(t.clientX-o.left)/o.width*100,t=(t.clientY-o.top)/o.height*100;e.style.setProperty("--mouse-x",r+"%"),e.style.setProperty("--mouse-y",t+"%")}o.addEventListener("mousemove",e=>{a(o,e)}),[o].forEach(r=>{r.addEventListener("touchmove",e=>{var e=e.touches[0],t=r.getBoundingClientRect(),o=(e.clientX-t.left)/t.width*100,e=(e.clientY-t.top)/t.height*100;r.style.setProperty("--mouse-x",o+"%"),r.style.setProperty("--mouse-y",e+"%")}),r.addEventListener("touchstart",e=>{e=e.touches[0];a(r,{clientX:e.clientX,clientY:e.clientY})})}),o.addEventListener("mouseleave",()=>{o.style.setProperty("--mouse-x","50%"),o.style.setProperty("--mouse-y","50%")}),[o].forEach(e=>{e.addEventListener("mouseenter",()=>{t.style.display="none"}),e.addEventListener("mouseleave",()=>{t.style.display="block"})})}}function scrollCTA(){$(".tt-draggable").length<1||(ScrollTrigger.refresh(),ScrollTrigger.create({start:"top top",end:99999,paused:!0,onUpdate:e=>{1===e.direction?$(".tt-draggable").addClass("hide"):$(".tt-draggable").removeClass("hide")}}))}$(".accordion").on("shown.bs.collapse hidden.bs.collapse",function(){setTimeout(()=>{showCoreValue(),ScrollTrigger.refresh()},200)});let init=()=>{gsap.registerPlugin(ScrollTrigger),scrollCTA(),spotlightNextProject(),animateBannerProjectDetail(),header(),scrollToForm(),stickyFilter(),pinSectionBanner(),customDropdown(),effectText(),introChess(),whyChooseUs(),coreValue(),showCoreValue(),magicCursor(),addThemeLightToHeader(),hoverVideo(),hoverNumberCount(),hoverIcon(),contactForm(),handlePageVisibilityAndFavicon(),projectDetail(),scrollInfiniteProject(),magicCursorV2(),galleryZoom(),circleProgressBar(),setTimeout(()=>{cookieModal()},5e3),ScrollTrigger.refresh()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});