import{preloadImages}from"../../libs/utils.js";let lenis;function customDropdown(){let a=$(".dropdown-custom");a.each(function(){let t=$(this),n=t.find(".dropdown-custom__btn"),i=t.find(".dropdown-custom__menu");var e=t.find(".dropdown-custom__item");let s=t.find(".dropdown-custom__text");function o(n){$(".dropdown-custom__btn").removeClass("active"),a.each(function(){var e=$(this).find(".dropdown-custom__menu"),t=$(this).find(".dropdown-custom__btn");n&&$(this).is(n)||(e.removeClass("dropdown--active"),t.removeClass("--active"))})}n.on("click",function(e){e.stopPropagation(),o(t),i.toggleClass("dropdown--active"),n.toggleClass("--active")}),$(document).on("click",function(){o()}),e.on("click",function(e){e.stopPropagation();e=$(this);let t=s.text();var n=s.find("img").attr("src"),i=e.find("img");s.text(e.text()),i.length?(s.html(e.html()),e.hasClass("language__item")&&(t=`<span>${t}</span>`),e.html(`${n?`<img src="${n}" />`:""} `+t)):e.hasClass("language__item")&&e.text(t),o()})})}function sectionSpecialize(){if(!($(".section-specialize").length<1)){gsap.fromTo(".section-specialize .image",{scale:.5},{scale:1,scrollTrigger:{trigger:".section-specialize",start:"center bottom",end:"bottom bottom",scrub:!0},ease:"none"}),gsap.to(".specialize-main-slider",{xPercent:-160,scrollTrigger:{trigger:".section-specialize",start:"top 20%",end:"bottom 20%",scrub:!0,onEnter:()=>{$(".section-specialize").addClass("theme-light"),$("main").addClass("theme-light")},onLeaveBack:()=>{$("main").removeClass("theme-light"),$(".section-specialize").removeClass("theme-light")}},ease:"none"});let e=!1;ScrollTrigger.create({trigger:".section-specialize",start:"top 15%",once:!0,onEnter:()=>{e||($(".section-specialize .number").each(function(){$(this).find("span[data-value]").each(function(){var e=parseInt($(this).attr("data-value"))+1;$(this).css("transform",`translateY(-${100*e}%)`)})}),e=!0)}}),$(".section-specialize .number").each(function(){let n=$(this);let e=/(\D+)?(\d+(\.\d+)?)(\D+)?/.exec(n.text());e&&(e.shift(),e=e.filter(e=>null!=e),n.empty(),e.forEach(t=>{if(isNaN(t))n.append(`<span>${t}</span>`);else for(let e=0;e<t.length;e++)n.append(`
            <span data-value="${t[e]}">
              <span>&nbsp;</span>
              ${Array(parseInt(t[e])+1).join(0).split(0).map((e,t)=>`<span>${t}</span>`).join("")}
            </span>
          `)}))})}}let init=()=>{gsap.registerPlugin(ScrollTrigger),customDropdown(),sectionSpecialize(),ScrollTrigger.refresh()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});