import{preloadImages}from"../../libs/utils.js";function animateChessItems(){if($(".banner-expertise").length){var n=document.querySelector(".section-banner.banner-expertise"),a=document.querySelectorAll(".wrapper-chess .chess-item"),n=n?n.getBoundingClientRect().height:0;let t=0;a.forEach(e=>{t+=e.getBoundingClientRect().height});a=n+t-window.innerHeight+200;let e=document.querySelector(".banner-expertise-spacer");e||((e=document.createElement("div")).classList.add("banner-expertise-spacer"),document.querySelector(".banner-expertise").insertAdjacentElement("afterend",e)),e.style.height=a+"px";n=gsap.utils.toArray(".wrapper-chess .chess-item");gsap.set(n,{y:"120%"});let r=gsap.timeline({scrollTrigger:{trigger:".banner-expertise",start:"top top",end:"+=200%",scrub:!0,pin:!0,pinSpacing:!1}});n.forEach(e=>{r.to(e,{y:"0%",duration:.6,ease:"none"})})}}function buildABrand(){if(!($(".build-a-brand").length<1)){let r=$(".build-a-brand .tab-wrapper .item");r.on("click",function(){var e=$(this),t=e.data("branding");e.hasClass("active")||(r.removeClass("active"),e.addClass("active"),(e=$(".build-a-brand .wrapper-content")).find(".item").addClass("d-none"),e.find(`.item[data-branding="${t}"]`).removeClass("d-none"))}),ScrollTrigger.create({trigger:".build-a-brand",start:"top 70%",end:"bottom top",onEnter:()=>{$(".build-a-brand .tab-wrapper .item[data-branding='2']").addClass("active")},onLeaveBack:()=>{$(".build-a-brand .tab-wrapper .item").removeClass("active")}})}}let init=()=>{gsap.registerPlugin(ScrollTrigger),animateChessItems(),buildABrand(),ScrollTrigger.refresh()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});