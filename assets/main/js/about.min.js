import{preloadImages}from"../../libs/utils.js";function ourStory(){gsap.set(".our-story .content:not(:first-child)",{yPercent:100});let e=gsap.utils.toArray(".our-story .content:not(:first-child)"),i=gsap.utils.toArray(".text"),r=gsap.timeline();ScrollTrigger.create({trigger:".our-story",start:"top top",end:"+=1000",pin:!0,scrub:!0,animation:r,onUpdate:t=>{var t=t.progress,o=1/(e.length+1);let r=Math.floor(t/o);r>=i.length&&(r=i.length-1),i.forEach((t,o)=>{t.classList.toggle("active",o===r)})}}),e.forEach((t,o)=>{r.to(t,{yPercent:0,duration:.5,boxShadow:"0px 0px 40px rgba(0, 0, 0, 0.4)",ease:"power2.out"})})}let init=()=>{gsap.registerPlugin(ScrollTrigger),ourStory()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});