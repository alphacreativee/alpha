import{preloadImages}from"../../libs/utils.js";function ourStory(){gsap.set(".content:not(:first-child)",{yPercent:100});let e=gsap.utils.toArray(".content:not(:first-child)"),i=gsap.utils.toArray(".text"),o=gsap.timeline();ScrollTrigger.create({trigger:".our-story",start:"top top",end:"+=1000",pin:!0,scrub:!0,animation:o,onUpdate:t=>{var t=t.progress,r=e.length;let o=Math.floor(t/.4);(o=o>=r?r-1:o)<0&&(o=0),i.forEach((t,r)=>{r===o?t.classList.add("active"):t.classList.remove("active")})}}),e.forEach((t,r)=>{o.to(t,{yPercent:0,duration:.5,ease:"power2.out"})})}let init=()=>{gsap.registerPlugin(ScrollTrigger),ourStory()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});