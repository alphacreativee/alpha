import{preloadImages}from"../../libs/utils.js";function ourStory(){gsap.set(".our-story .content:not(:first-child)",{yPercent:100});let o=gsap.utils.toArray(".our-story .content:not(:first-child)"),a=gsap.utils.toArray(".text"),r=gsap.timeline();var t=document.querySelectorAll(".our-story .content")?Array.from(document.querySelectorAll(".our-story .content")).reduce((t,e)=>t+e.offsetHeight,0):0;let e=document.querySelector(".our-story-spacer");e||((e=document.createElement("div")).classList.add("our-story-spacer"),document.querySelector(".our-story").insertAdjacentElement("afterend",e)),e.style.height=t+"px",ScrollTrigger.create({trigger:".our-story",start:"top top",end:"+="+t,pin:!0,scrub:!0,animation:r,pinSpacing:!1,onUpdate:t=>{var t=t.progress,e=1/(o.length+1);let r=Math.floor(t/e);r>=a.length&&(r=a.length-1),a.forEach((t,e)=>{t.classList.toggle("active",e===r)})}}),o.forEach((t,e)=>{r.to(t,{yPercent:0,duration:.5,boxShadow:"0px 0px 40px rgba(0, 0, 0, 0.4)",ease:"power2.out"})})}function ourTeam(){var t=gsap.utils.toArray(".our-team-item");gsap.set(t,{opacity:0,y:50}),gsap.timeline({scrollTrigger:{trigger:".our-team-list",start:"top 80%",end:"bottom 30%",scrub:1}}).to(t,{opacity:1,y:0,duration:1,ease:"power2.out",stagger:.2})}let init=()=>{gsap.registerPlugin(ScrollTrigger),ourTeam(),ourStory()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});