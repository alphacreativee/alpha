import{preloadImages}from"../../libs/utils.js";function formReruitment(){$(".our-works").length<1||($("#file-attach").on("change",function(){var e=this.files[0],t=$(this),r=t.next("label").find("span");t.removeClass("error"),r.text("Upload file under 5MB"),e&&(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)?5242880<e.size?(t.addClass("error"),r.text("File too large (max 5MB)"),t.val("")):r.text(e.name):(t.addClass("error"),r.text("Only PDF or DOCX files allowed"),t.val("")))}),$("form.form-recruitment").on("submit",function(e){e.preventDefault();e=$(this);let t=!0;var r=e.find("input[type='file']"),o=e.find("input[name='name']"),i=e.find("input[name='email']");let n=e.find(".note"),l=n.text();e.find("input").removeClass("error"),r.hasClass("error")&&(t=!1),""===o.val().trim()&&(t=!1,o.addClass("error")),""===i.val().trim()&&(t=!1,i.addClass("error")),t&&(e[0].reset(),n.text("Your application has been submitted successfully."),setTimeout(function(){n.text(l)},5e3))}),$(document).on("click",".our-works a[data-bs-toggle='modal']",function(){var e=$(this).data("title");$(".modal-recruitment .col-content .title").text(e)}),ScrollTrigger.create({trigger:".our-works",start:"top 65%",onEnter:()=>{document.querySelector(".our-works").classList.add("theme-light"),document.querySelector(".header-menu-container").classList.add("theme-light"),document.querySelector("main").classList.add("theme-light"),document.querySelector(".section-banner").classList.add("theme-light")},onLeaveBack:()=>{document.querySelector(".our-works").classList.remove("theme-light"),document.querySelector(".header-menu-container").classList.remove("theme-light"),document.querySelector("main").classList.remove("theme-light"),document.querySelector(".section-banner").classList.remove("theme-light")}}))}let init=()=>{gsap.registerPlugin(ScrollTrigger),formReruitment(),ScrollTrigger.refresh()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});