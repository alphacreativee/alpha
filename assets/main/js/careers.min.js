import{preloadImages}from"../../libs/utils.js";function formReruitment(){$(".our-works").length<1||($("#file-attach").on("change",function(){var e=this.files[0],t=$(this),r=t.next("label").find("span");t.removeClass("error"),r.text("Upload file under 5MB"),e&&(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)?5242880<e.size?(t.addClass("error"),r.text("File too large (max 5MB)"),t.val("")):r.text(e.name):(t.addClass("error"),r.text("Only PDF or DOCX files allowed"),t.val("")))}),$("form.form-recruitment").on("submit",function(e){e.preventDefault();e=$(this);let t=!0;var r=e.find("input[type='file']"),o=e.find("input[name='name']"),n=e.find("input[name='email']");let i=e.find(".note"),s=i.text();e.find("input").removeClass("error"),r.hasClass("error")&&(t=!1),""===o.val().trim()&&(t=!1,o.addClass("error")),""===n.val().trim()&&(t=!1,n.addClass("error")),t&&(e[0].reset(),i.text("Your application has been submitted successfully."),setTimeout(function(){i.text(s)},5e3))}),$(document).on("click",".our-works a[data-bs-toggle='modal']",function(){var e=$(this).data("title");$(".modal-recruitment .col-content .title").text(e)}),ScrollTrigger.create({trigger:".our-works",start:"top 65%",onEnter:()=>{document.querySelector(".our-works").classList.add("theme-light")},onLeaveBack:()=>{document.querySelector(".our-works").classList.remove("theme-light")}}))}function whyChooseUs(){if(!($(".why-choose-us").length<1)){let n=document.querySelector(".why-choose-us .list-wrapper"),i=document.querySelector(".why-choose-us .main-section"),s=0,l=!1;i.addEventListener("mouseenter",()=>{l=!0}),i.addEventListener("mouseleave",()=>{l=!1,n.style.transform="translateX(0px)"}),i.addEventListener("mousemove",e=>{var t,r,o;e=e,l&&(t=i.offsetWidth,r=n.scrollWidth-t+80,o=i.getBoundingClientRect(),e=e.clientX-o.left,s=t-200<=e?-r:Math.min(0,e/(t-200)*r*-1),s=Math.max(-r,Math.min(0,s)),n.style.transform=`translateX(${s}px)`)})}}let init=()=>{gsap.registerPlugin(ScrollTrigger),formReruitment(),whyChooseUs(),ScrollTrigger.refresh()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});