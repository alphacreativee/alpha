import{preloadImages}from"../../libs/utils.js";function formReruitment(){$(".our-works").length<1||($(".modal-recruitment .file-attach").on("change",function(){var e,t=this.files[0],r=$(this),o=r.next("label").find("span");r.removeClass("error"),o.text("Upload file under 5MB"),t&&(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type)?5242880<t.size?(r.addClass("error"),o.text("File too large (max 5MB)"),r.val("")):(t=t.name,e=28,t=(e=(e=t.length>e?t.slice(0,e)+"...":t).toLowerCase()).charAt(0).toUpperCase()+e.slice(1),o.text(t),o.addClass("has-file")):(r.addClass("error"),o.text("Only PDF or DOCX files allowed"),r.val("")))}),$("form.form-recruitment").on("submit",function(e){e.preventDefault();e=$(this);let t=!0;var r=e.find("input[type='file']"),o=e.find("input[name='name']"),i=e.find("input[name='email']");let l=e.find(".note"),n=l.text();e.find("input").removeClass("error"),r.hasClass("error")&&(t=!1),""===o.val().trim()&&(t=!1,o.addClass("error")),""===i.val().trim()&&(t=!1,i.addClass("error")),t&&(e[0].reset(),l.text("Your application has been submitted successfully."),setTimeout(function(){l.text(n)},5e3))}),ScrollTrigger.create({trigger:".our-works",start:"top 65%",onEnter:()=>{document.querySelector(".our-works").classList.add("theme-light"),document.querySelector(".header-menu-container").classList.add("theme-light"),document.querySelector("main").classList.add("theme-light"),document.querySelector(".section-banner").classList.add("theme-light")},onLeaveBack:()=>{document.querySelector(".our-works").classList.remove("theme-light"),document.querySelector(".header-menu-container").classList.remove("theme-light"),document.querySelector("main").classList.remove("theme-light"),document.querySelector(".section-banner").classList.remove("theme-light")}}))}let init=()=>{gsap.registerPlugin(ScrollTrigger),formReruitment(),ScrollTrigger.refresh()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});