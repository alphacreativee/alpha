import{preloadImages}from"../../libs/utils.js";function sliderProject(){if(!($(".swiper-project").length<1)){let e=$(".swiper-project");function o(r){r.pagination.bullets.forEach((e,t)=>{let o=e.querySelector(".progress-bar");t<r.realIndex?(e.classList.add("viewed"),o.style.width="100%",o.style.transition="none"):t===r.realIndex?(o.style.width="0%",o.style.transition="none",setTimeout(()=>{o.style.width="100%",o.style.transition=`width ${r.params.autoplay.delay}ms linear`},10)):(e.classList.remove("viewed"),o.style.width="0%",o.style.transition="none")})}e.each(function(){var e=$(this),t=new Swiper(e[0],{slidesPerView:1,speed:1e3,init:!0,loopAdditionalSlides:1,autoplay:!1,watchSlidesProgress:!0,pagination:{el:e.find(".swiper-pagination")[0],clickable:!0,renderBullet:function(e,t){return`
            <button class="${t}">
              <span class="progress-bar"></span>
            </button>`}},on:{progress:function(o){o.slides.forEach(function(e){var t=(e.progress||0)*(.8*o.width);isNaN(t)||(e=e.querySelector(".img-parallax"))&&(e.style.transform="translate3d("+t+"px, 0, 0)")})},touchStart:function(e){e.slides.forEach(function(e){e.style.transition=""})},setTransition:function(e,t){var o="cubic-bezier(0.25, 0.1, 0.25, 1)";e.slides.forEach(function(e){e.style.transition=t+"ms "+o;e=e.querySelector(".img-parallax");e&&(e.style.transition=t+"ms "+o)})},slideChangeTransitionStart:function(e){e.params.autoplay.delay=2e3,e.autoplay.start()},slideChangeTransitionEnd:function(e){o(e)}}});e.on("mouseenter",function(){t.autoplay.start({delay:2e3,disableOnInteraction:!1}),o(t)}),e.on("mouseleave",function(){t.autoplay.pause(),t.slideToLoop(0,1e3,!0),setTimeout(()=>{t.autoplay.stop()},1e3)})})}}function loadImg(){var e=gsap.utils.toArray(".project-item");gsap.set(e,{yPercent:40,opacity:0}),gsap.set(e[0],{yPercent:10,opacity:0}),gsap.timeline({scrollTrigger:{trigger:".project-list",start:"top 90%",end:"bottom 80%",scrub:1}}).to(e,{yPercent:0,opacity:1,duration:1,ease:"power2.out",stagger:.2})}function magicCursor(){var t=document.querySelector(".magic-cursor");gsap.set(t,{xPercent:-50,yPercent:-50});let o,r;window.addEventListener("mousemove",e=>{o=e.clientX,r=e.clientY,gsap.to(t,{x:o,y:r,duration:.1})});var s=document.querySelector(".magic-cursor .cursor");document.querySelector(".magic-cursor .cursor .text-content");document.querySelectorAll(".project-item").forEach(e=>{e.addEventListener("mouseenter",()=>{s.classList.add("show")}),e.addEventListener("mouseleave",()=>{s.classList.remove("show")})})}function changeColor(){if(document.querySelector(".blog-page")){let e=document.querySelector("main");var o=document.querySelector(".blog-page-container .project-list");let t=document.querySelector(".blog-page-container");ScrollTrigger.create({trigger:o,start:"top 75%",end:"bottom 75%",scrub:!0,onEnter:()=>{t.classList.add("theme-light"),e.classList.add("theme-light")},onLeaveBack:()=>{e.classList.remove("theme-light"),t.classList.remove("theme-light")}})}}let init=()=>{gsap.registerPlugin(ScrollTrigger),sliderProject(),magicCursor(),loadImg(),changeColor()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});